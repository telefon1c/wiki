---
label: Начать с FreePBX
icon: zap
order: -2
---

# Интеграция с FreePBX

!!! info
Данное руководство предполагает наличие навыков настройки АТС и работы с конфигуратором 1С. 
Для выполнения некоторых инструкций могут потребоваться права администратора. 
На сегодняшний момент поддерживается только **FreePBX 15 (Asterisk 16)**.
!!!

Данная инструкция предназначена для редакции 2.2, для предыдущих версий используйте другую инструкцию.

### Подготовьте АТС

Суть работы модуля заключется в подключении к AMI интерфейсу Asterisk, сбору информации о звонках, состоянии каналов, а также взаимодействие с 1С:Предприятием и Панелью телефонии для управления вызовами.

На текущий момент протестирована работа модуля на следующих версиях FreePBX/Asterisk

FreePBX 15.0.17.12 - Asterisk 16.6.2
FreePBX 14.0.13.34 - Asterisk 16.15.1

Перейдите в веб-интерфейс АТС, выберите раздел **FreePBX Administration**.
![](~/assets/freepbx/freepbx_mod_0.png)

Выполните **Admin -> Module Admin**
![](~/assets/freepbx/freepbx_mod_1.png)

Выполните **Upload modules**
![](~/assets/freepbx/freepbx_mod_2.png)

Выберите **Type** выберите **Download (From Web)**. 
Скопируйте [ссылку на последнюю версию](https://releases.mikopbx.com/releases/v1/freepbx/getModuleFile/pt1coutpanel/latest.tgz)  модуля "Панель телефонии 2.0 для 1С".   
Вставьте ее в поле **Download Remote Module**.  
Выполните **Download (From Web)**
![](~/assets/freepbx/freepbx_mod_3.png)

Дождитесь загрузки модуля на АТС. Затем выполните **Manage Local Modules**
![](~/assets/freepbx/freepbx_mod_4.png)

В разделе **Appliations** найдите модуль **MIKO CTI Client 4.0**, нажмите **Install**.
![](~/assets/freepbx/freepbx_mod_5.png)

Прокрутите страницу с модулями в самый низ и выполните **Process**.
![](~/assets/freepbx/freepbx_mod_6.png)

После установки модуля выполните **Confirm**.
![](~/assets/freepbx/freepbx_mod_7.png)

В появившемся окне **Status** выполните **Return**.
![](~/assets/freepbx/freepbx_mod_8.png)

Приметите изменения. Для эого выполните **Apply Config**.
![](~/assets/freepbx/freepbx_mod_9.png)

После этого разделе **Applications** появится команда **MIKO CTI Client 4.0 for 1C (Подсистема телефонии для 1С)**. Выполните ее.
![](~/assets/freepbx/freepbx_mod_10.png)

В открывшемcя модуле перейдите на вкладку **Лицензирование**.
Если вы не имеете лицензионного ключа заполните поля разделе **Регистрация нового клиента**  
![](~/assets/freepbx/freepbx_mod_11.png)

!!!info Лицензионный ключ
Ключ имеет формат **MIKO-XXXXX-XXXXX-XXXXX-XXXXX** и отправляется автоматически после регистрации
на ваш email с адреса lic@miko.ru. У ключа будет активирован триальный период на **30-дней** на продукты: "Панель телефонии для 1С", "Журнал звонков и аналитика".
!!!

Если у вас уже есть лицензионный ключ, вставьте его в поле **Лицензионный ключ**.
![](~/assets/freepbx/freepbx_mod_12.png)

Перейдите на вкладку **Настройки модуля**. В разделе **Общие настройки** установите переключатель в положение **Автоматическая настройка модуля**.  
В разделе **Прочие настройки** переключатель **Включить режим отладки модуля** установите в положение **Включить**. Выполните **Submit**.
![](~/assets/freepbx/freepbx_mod_13.png)

Скачайте расширение для 1С, нажав на ссылку.
![](~/assets/freepbx/freepbx_mod_14.png)

Запустите информационную базу 1С в режиме "1С:Предприятие". Войдите пользователем, имеющим права администратора.
В главном меню выполните  Файл - > Открыть (или нажмите конмбинацию клавиш **Ctrl+O**).  Выберите скачанную обработку **Установщик.epf**
![](~/assets/freepbx/freepbx_1c_0.png)
Согласитесь в появившемся предупреждении безопасности.
![](~/assets/freepbx/freepbx_1c_1.png)

На странице **Проверка доступных лицензий** вставьте ваш лицензионный ключ в одноименное поле и выполните **Далее**.
![](~/assets/freepbx/freepbx_1c_2.png)

Выберите последнюю версию расширения, если их несколько и выполните **Установить**.
![](~/assets/freepbx/freepbx_1c_3.png)

Ознакомьтесь с лицензионным соглашенитем и примите условия.
![](~/assets/freepbx/freepbx_1c_4.png)